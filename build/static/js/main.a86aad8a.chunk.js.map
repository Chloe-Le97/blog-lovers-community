{"version":3,"sources":["components/BlogList.js","components/Notification.js","services/signup.js","services/blogs.js","reducers/notificationReducer.js","services/login.js","reducers/userReducer.js","components/SignIn.js","components/SignUp.js","reducers/blogReducer.js","components/BlogForm.js","components/Togglable.js","components/Users.js","services/users.js","components/User.js","components/Blog.js","App.js","store.js","index.js"],"names":["connect","state","blogs","sort","a","b","likes","props","className","map","blog","to","id","title","Notification","noti","useSelector","style","border","padding","borderWidth","marginBottom","color","signUp","newUser","axios","post","response","data","token","getAll","get","create","newObject","config","headers","Authorization","updateBlog","put","setToken","newToken","remove","object","delete","then","notification","time","timeOutId","dispatch","type","clearTimeout","setTimeout","notiReducer","action","login","credentials","setUser","user","logIn","username","password","loginService","window","localStorage","setItem","JSON","stringify","blogService","userReducer","mapDispatchToProps","useState","setUsername","setPassword","repeatPassword","setRepeatPassword","signUpVisible","setSignUpVisible","signIn","display","handleLogin","event","console","log","preventDefault","setOpenSignIn","error","handleSignUp","alert","signUpService","onSubmit","value","name","onChange","target","onClick","setOpenSignUp","getItem","userToken","parse","baseApi","blogReducer","n","filter","createBlog","content","item","setTitle","author","setAuthor","url","setUrl","Togglable","React","forwardRef","ref","visible","setVisible","hideWhenVisible","showWhenVisible","toggleVisibility","useImperativeHandle","Button","backgroundColor","variant","buttonLabel","children","displayName","Users","users","Table","aria-label","TableHead","TableRow","TableCell","TableBody","key","length","getUsers","User","useParams","find","likeBlog","allItem","updatedBlog","deleteBlog","items","commentBlog","blogUser","history","useHistory","comment","setComment","confirm","push","href","rel","comments","onLike","cmt","newComments","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","palette","background","boxShadow","shadows","spacing","removeUser","ConnectApp","link","textDecoration","useDispatch","blogFormRef","useRef","classes","setUsers","openSignUp","openSignIn","modalStyle","useEffect","getUsersService","getAllUsers","loggedUserJSON","Modal","open","onClose","exact","path","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a86aad8a.chunk.js","sourcesContent":["import React,{useState} from 'react';\r\nimport './Blog.style.css';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch, Route, Link\r\n} from \"react-router-dom\";\r\nimport './Blog.style.css'\r\n\r\nconst BlogList = (props) => {\r\n\r\n  return(\r\n  <div className='blog-list'>\r\n    {props.blogs.map(blog=>(\r\n     <div className='blog'><Link to={`/blogs/${blog.id}`}>{blog.title}</Link></div>\r\n    ))}\r\n  \r\n  </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps =(state)=>{\r\n  const sortBlogs = state.blogs.sort(function(a,b){\r\n    return b.likes - a.likes\r\n  })\r\n  return {blogs: sortBlogs}\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(BlogList)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Notification = () => {\r\n  const noti = useSelector(state => state.noti)\r\n  const style = {\r\n    border: 'solid',\r\n    padding: 10,\r\n    borderWidth: 1,\r\n    marginBottom: 15,\r\n    color:'red'\r\n  }\r\n  return (\r\n    noti?(<div style={style}>\r\n      {noti}\r\n    </div>):(null)\r\n   \r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst signUp = async newUser => {\r\n  const response = await axios.post(baseUrl, newUser)\r\n  return response.data\r\n}\r\n\r\nexport default { signUp }","import axios from 'axios'\r\nconst baseUrl = 'api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n}\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst updateBlog = async (id,newObject) => {\r\n  const response = await axios.put(`${baseUrl}/${id}`, newObject)\r\n  return response.data\r\n}\r\n\r\nconst remove = (object) =>{\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const request = axios.delete(`${baseUrl}/${object.id}`,config)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default { getAll, create, updateBlog, setToken,remove}","const notiReducer = (state='',action) =>{\r\n\r\n    switch(action.type){\r\n        case 'SET_NOTI':\r\n            return action.data\r\n        case 'REMOVE_NOTI':\r\n            return null\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const notification = (data,time) =>{\r\n    let timeOutId \r\n    return async dispatch=>{\r\n        await dispatch({\r\n            type:'SET_NOTI',\r\n            data\r\n        })\r\n        \r\n        if(timeOutId){\r\n            clearTimeout(timeOutId)\r\n        }\r\n        timeOutId = setTimeout(()=>{\r\n            dispatch({\r\n                type:'REMOVE_NOTI'\r\n            })\r\n        },time)\r\n    } \r\n}\r\n\r\n\r\nexport default notiReducer","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import loginService from '../services/login';\r\nimport blogService from '../services/blogs';\r\n\r\nconst userReducer = (state='',action) =>{\r\n    switch(action.type){\r\n        case 'SET_USER':\r\n            return action.data\r\n        case 'REMOVE_USER':\r\n            return null\r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const setUser = (user) =>{\r\n        return ({\r\n            type:'SET_USER',\r\n            data: user\r\n        })\r\n    } \r\n\r\n\r\nexport const logIn = (username,password) => {\r\n\r\n    return async dispatch =>{\r\n        try{\r\n            const user = await loginService.login({\r\n                username, password,\r\n              })\r\n            window.localStorage.setItem(\r\n                'loggedBlogappUser', JSON.stringify(user)\r\n              ) \r\n            blogService.setToken(user.token)\r\n            dispatch({\r\n                type:'SET_USER',\r\n                data: user\r\n            })\r\n            dispatch({\r\n                type:'SET_NOTI',\r\n                data: 'Sign in successfully'\r\n            })\r\n            setTimeout(()=>{\r\n                dispatch({\r\n                    type:'REMOVE_NOTI'\r\n                })\r\n            },5000)\r\n        }catch(error){\r\n            dispatch({\r\n                type:'SET_NOTI',\r\n                data: 'Wrong credential'\r\n            })\r\n            setTimeout(()=>{\r\n                dispatch({\r\n                    type:'REMOVE_NOTI'\r\n                })\r\n            },5000)\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const removeUser = () =>{\r\n   return ({\r\n        type:'REMOVE_USER'\r\n    })\r\n}\r\n\r\nexport default userReducer","import React,{useState} from 'react';\r\nimport signUpService from '../services/signup';\r\nimport blogService from '../services/blogs'\r\nimport { connect } from 'react-redux';\r\nimport {notification} from '../reducers/notificationReducer'\r\nimport {logIn} from '../reducers/userReducer'\r\nimport {setUser} from '../reducers/userReducer'\r\n\r\nconst SignIn = (props) =>{\r\n\r\n    \r\n    const [username, setUsername] = useState('') \r\n    const [password, setPassword] = useState('')\r\n    const [repeatPassword, setRepeatPassword] = useState('')\r\n    const [signUpVisible, setSignUpVisible] = useState(false)\r\n\r\n    const signIn = { display: signUpVisible ? 'none' : '' }\r\n    const signUp = { display: signUpVisible ? '' : 'none' }\r\n\r\n    const handleLogin = async (event) => {\r\n      console.log(props)\r\n        event.preventDefault()  \r\n        try {\r\n          props.logIn(username,password)\r\n          // props.notification(`Sign In successfully`,5000)\r\n          setUsername('')\r\n          setPassword('')\r\n          setRepeatPassword('')\r\n          props.setOpenSignIn(false)\r\n        } catch (error) {\r\n          // props.notification('Wrong credentials',5000)\r\n        }\r\n      }\r\n    \r\n      const handleSignUp = async (event) => {\r\n        event.preventDefault()\r\n        \r\n        if(repeatPassword != password){\r\n            alert('Repeat password is not the same with password, please type again')\r\n        }\r\n        else{\r\n          try {\r\n            const user = await signUpService.signUp({\r\n              username, password,\r\n            })\r\n      \r\n            window.localStorage.setItem(\r\n              'loggedBlogappUser', JSON.stringify(user)\r\n            ) \r\n            blogService.setToken(user.token)\r\n            props.logIn(username,password)\r\n            props.notification(`Sign Up successfully`,5000)\r\n            setUsername('')\r\n            setPassword('')\r\n            setRepeatPassword('')\r\n            props.setOpenSignIn(false)\r\n          } catch (exception) {\r\n            props.notification('Wrong credentials',5000)\r\n          }\r\n        }\r\n      }\r\n\r\n    return(\r\n        <div>\r\n            <div className='blog_auth'>\r\n                <div style={signIn}>\r\n                    <form onSubmit={handleLogin}>\r\n                      <h2>Login</h2>\r\n                        <div>\r\n                            Username &nbsp;\r\n                            <input\r\n                            id='username'\r\n                            type=\"text\"\r\n                            value={username}\r\n                            name=\"Username\"\r\n                            onChange={({ target }) => setUsername(target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            Password &nbsp;\r\n                            <input\r\n                            id='password'\r\n                            type=\"password\"\r\n                            value={password}\r\n                            name=\"Password\"\r\n                            onChange={({ target }) => setPassword(target.value)}\r\n                            />\r\n                        </div>\r\n                        <button id=\"login-button\" type=\"submit\">Login</button>\r\n                        <div style={{color: \"red\"}} onClick={() => setSignUpVisible(!signUpVisible)} className='blog-btn'> Not a member? <strong>Sign Up</strong></div>\r\n                    </form> \r\n                </div>\r\n          <div style={signUp}>\r\n           <form onSubmit={handleSignUp}>\r\n             <h2>Sign Up</h2>\r\n            <div>\r\n                Username &nbsp;\r\n                <input\r\n                id='username'\r\n                type=\"text\"\r\n                value={username}\r\n                name=\"Username\"\r\n                onChange={({ target }) => setUsername(target.value)}\r\n                />\r\n            </div>\r\n            <div>\r\n                Password &nbsp;\r\n                <input\r\n                id='password'\r\n                type=\"password\"\r\n                value={password}\r\n                name=\"Password\"\r\n                onChange={({ target }) => setPassword(target.value)}\r\n                />\r\n            </div>\r\n            <div>\r\n                Repeat password &nbsp;\r\n                <input\r\n                id='password'\r\n                type=\"password\"\r\n                value={repeatPassword}\r\n                name=\"Password\"\r\n                onChange={({ target }) => setRepeatPassword(target.value)}\r\n                />\r\n            </div>\r\n            <button id=\"login-button\" type=\"submit\">Sign Up</button>\r\n            <div style={{color: \"red\"}} onClick={() => setSignUpVisible(!signUpVisible)} className='blog-btn'> Already a member? <strong>Login</strong></div>\r\n         </form> \r\n          </div>\r\n            </div>\r\n        \r\n        \r\n        </div>\r\n        )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    notification, setUser, logIn\r\n  }\r\n\r\n  export default connect(null,mapDispatchToProps)(SignIn)","import React,{useState} from 'react';\r\nimport signUpService from '../services/signup';\r\nimport blogService from '../services/blogs'\r\nimport { connect } from 'react-redux';\r\nimport {notification} from '../reducers/notificationReducer'\r\nimport {logIn} from '../reducers/userReducer'\r\nimport {setUser} from '../reducers/userReducer'\r\n\r\nconst SignUp = (props) =>{\r\n\r\n    \r\n    const [username, setUsername] = useState('') \r\n    const [password, setPassword] = useState('')\r\n    const [repeatPassword, setRepeatPassword] = useState('')\r\n    const [signUpVisible, setSignUpVisible] = useState(false)\r\n\r\n    const signIn = { display: signUpVisible ? '' : 'none' }\r\n    const signUp = { display: signUpVisible ? 'none' : '' }\r\n\r\n    const handleLogin = async (event) => {\r\n      console.log(props)\r\n        event.preventDefault()  \r\n        try {\r\n          props.logIn(username,password)\r\n          // props.notification(`Sign In successfully`,5000)\r\n          setUsername('')\r\n          setPassword('')\r\n          setRepeatPassword('')\r\n          props.setOpenSignUp(false)\r\n        } catch (error) {\r\n          // props.notification('Wrong credentials',5000)\r\n        }\r\n      }\r\n    \r\n      const handleSignUp = async (event) => {\r\n        event.preventDefault()\r\n        \r\n        if(repeatPassword != password){\r\n            alert('Repeat password is not the same with password, please type again')\r\n        }\r\n        else{\r\n          try {\r\n            const user = await signUpService.signUp({\r\n              username, password,\r\n            })\r\n      \r\n            window.localStorage.setItem(\r\n              'loggedBlogappUser', JSON.stringify(user)\r\n            ) \r\n            blogService.setToken(user.token)\r\n            props.logIn(username,password)\r\n            props.notification(`Sign Up successfully`,5000)\r\n            setUsername('')\r\n            setPassword('')\r\n            setRepeatPassword('')\r\n            props.setOpenSignUp(false)\r\n          } catch (exception) {\r\n            props.notification('Wrong credentials',5000)\r\n          }\r\n        }\r\n      }\r\n\r\n    return(\r\n        <div>\r\n            <div className='blog_auth'>\r\n                <div style={signIn}>\r\n                    <form onSubmit={handleLogin}>\r\n                      <h2>Login</h2>\r\n                        <div>\r\n                            Username &nbsp;\r\n                            <input\r\n                            id='username'\r\n                            type=\"text\"\r\n                            value={username}\r\n                            name=\"Username\"\r\n                            onChange={({ target }) => setUsername(target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            Password &nbsp;\r\n                            <input\r\n                            id='password'\r\n                            type=\"password\"\r\n                            value={password}\r\n                            name=\"Password\"\r\n                            onChange={({ target }) => setPassword(target.value)}\r\n                            />\r\n                        </div>\r\n                        <button id=\"login-button\" type=\"submit\">Login</button>\r\n                        <div style={{color: \"red\"}} onClick={() => setSignUpVisible(!signUpVisible)} className='blog-btn'> Not a member? <strong>Sign Up</strong></div>\r\n                    </form> \r\n                </div>\r\n          <div style={signUp}>\r\n           <form onSubmit={handleSignUp}>\r\n             <h2>Sign Up</h2>\r\n            <div>\r\n                Username &nbsp;\r\n                <input\r\n                id='username'\r\n                type=\"text\"\r\n                value={username}\r\n                name=\"Username\"\r\n                onChange={({ target }) => setUsername(target.value)}\r\n                />\r\n            </div>\r\n            <div>\r\n                Password &nbsp;\r\n                <input\r\n                id='password'\r\n                type=\"password\"\r\n                value={password}\r\n                name=\"Password\"\r\n                onChange={({ target }) => setPassword(target.value)}\r\n                />\r\n            </div>\r\n            <div>\r\n                Repeat password &nbsp;\r\n                <input\r\n                id='password'\r\n                type=\"password\"\r\n                value={repeatPassword}\r\n                name=\"Password\"\r\n                onChange={({ target }) => setRepeatPassword(target.value)}\r\n                />\r\n            </div>\r\n            <button id=\"login-button\" type=\"submit\">Sign Up</button>\r\n            <div style={{color: \"red\"}} onClick={() => setSignUpVisible(!signUpVisible)} className='blog-btn'> Already a member? <strong>Login</strong></div>\r\n         </form> \r\n          </div>\r\n            </div>\r\n        \r\n        \r\n        </div>\r\n        )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    notification, setUser, logIn\r\n  }\r\n\r\n  export default connect(null,mapDispatchToProps)(SignUp)","import blogService from '../services/blogs'\r\n\r\nimport axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\n\r\nconst user = localStorage.getItem('loggedBlogappUser')\r\nconst userToken = user && JSON.parse(user).token\r\n\r\nconst token = `bearer ${userToken}`\r\n\r\nconst baseApi = axios.create({\r\n  headers: {\r\n    Authorization: token\r\n  }\r\n})\r\n\r\nconst blogReducer = (state = [], action) => {\r\n    console.log('state now: ', state)\r\n    console.log('action', action)\r\n    switch(action.type){\r\n      case 'LIKE':{\r\n        return state.map(n => n.id !== action.data.id ? n : action.data)\r\n      }\r\n      case 'DELETE':{\r\n        return state.filter(n => n.id !== action.data.id)\r\n      }\r\n      case 'ADD':{\r\n        return action.data\r\n      }\r\n      case 'COMMENT':{\r\n        return state.map(n => n.id !== action.data.id ? n : action.data)\r\n      }\r\n      case 'INIT_BLOG':\r\n        return action.data\r\n      default:\r\n    return state\r\n    }\r\n  }\r\n  \r\n  export const initializeBlog = () => {\r\n    return async dispatch => {\r\n      const items = await blogService.getAll()\r\n      dispatch({\r\n        type: 'INIT_BLOG',\r\n        data: items,\r\n      })\r\n    }\r\n  }\r\n  \r\n  export const likeBlog = (id,blog) => {\r\n    return async dispatch => {\r\n      // const likedBlog = await blogService.updateBlog(id,blog)\r\n      // const items = await blogService.getAll()\r\n      const response = await axios.put(`${baseUrl}/${id}`, blog)\r\n      const allItem = await axios.get(baseUrl)\r\n      const updatedBlog = allItem.data.find(n => n.id == id)\r\n      dispatch({\r\n        type: 'LIKE',\r\n        data: updatedBlog,\r\n      })\r\n    }\r\n  }\r\n\r\n    \r\n  export const commentBlog = (id,blog) => {\r\n    return async dispatch => {\r\n      // const likedBlog = await blogService.updateBlog(id,blog)\r\n      // const items = await blogService.getAll()\r\n      const response = await axios.put(`${baseUrl}/${id}/comments`, blog)\r\n      const allItem = await axios.get(baseUrl)\r\n      const updatedBlog = allItem.data.find(n => n.id == id)\r\n      dispatch({\r\n        type: 'COMMENT',\r\n        data: updatedBlog,\r\n      })\r\n    }\r\n  }\r\n\r\n  \r\n  export const createBlog = (content) =>{\r\n    return async dispatch =>{\r\n      await blogService.create(content)  \r\n      const item = await blogService.getAll()\r\n      dispatch({\r\n        type: 'ADD',\r\n        data: item,\r\n      })\r\n    }\r\n  }\r\n\r\n  export const deleteBlog = (blog) =>{\r\n      return async dispatch =>{\r\n       const deletedBlog = await baseApi.delete(`${baseUrl}/${blog.id}`)\r\n       const items = await blogService.getAll()\r\n        dispatch({\r\n          type: 'INIT_BLOG',\r\n          data: items\r\n        })\r\n      }\r\n  }\r\n  \r\n  export default blogReducer","import React,{useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {createBlog} from '../reducers/blogReducer'\r\nimport { connect } from 'react-redux' \r\nimport {notification} from '../reducers/notificationReducer'\r\n\r\nconst BlogForm = (props) => {\r\n    const [title, setTitle] = useState('')\r\n    const [author, setAuthor] = useState('')\r\n    const [url, setUrl] = useState('')\r\n\r\n    const addBlog = (event) =>{\r\n        console.log('hello')\r\n        event.preventDefault()\r\n        if(title&&author){\r\n          props.createBlog({title:title,author:author,url:url})\r\n          props.notification('New blog added',5000)\r\n          setTitle('');\r\n          setUrl('');\r\n          setAuthor('');\r\n        }else{\r\n            alert('Please type title and author of the blog')\r\n        }\r\n      }\r\n\r\n    // BlogForm.propTypes={\r\n    //     addBlog: PropTypes.func.isRequired,\r\n    //     createBlog: PropTypes.func.isRequired,\r\n    // }\r\n      \r\n    return (\r\n      <div className=\"formDiv\">\r\n        <h2>Save new blog</h2>\r\n        <form onSubmit={addBlog}>\r\n        <div>Title \r\n          <input\r\n            id='title'\r\n            value={title}\r\n            onChange={({target})=>setTitle(target.value)}\r\n          />\r\n        </div>\r\n        <div>Author \r\n          <input\r\n             id='author'\r\n            value={author}\r\n            onChange={({target})=>setAuthor(target.value)}\r\n          />\r\n        </div>\r\n        <div>Url \r\n          <input\r\n            value={url}\r\n            onChange={({target})=>setUrl(target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">save</button>\r\n      </form>\r\n        </div>\r\n    )\r\n }\r\n\r\n const mapDispatchToProps = {\r\n  createBlog,notification\r\n}\r\n\r\n\r\nexport default connect(null,mapDispatchToProps)(BlogForm);","import React, { useState, useImperativeHandle } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false)\r\n  \r\n    const hideWhenVisible = { display: visible ? 'none' : '' }\r\n    const showWhenVisible = { display: visible ? '' : 'none' }\r\n  \r\n    const toggleVisibility = () => {\r\n      setVisible(!visible)\r\n    }\r\n\r\n    useImperativeHandle(ref, () => {\r\n        return {\r\n          toggleVisibility\r\n        }\r\n      })\r\n    \r\n      Togglable.propTypes = {\r\n        buttonLabel: PropTypes.string.isRequired\r\n      }\r\n\r\n    return (\r\n      <div>\r\n        <div style={hideWhenVisible}>\r\n          <Button style={{backgroundColor: \"white\"}} variant=\"outlined\" color=\"primary\" onClick={toggleVisibility}>{props.buttonLabel}</Button>\r\n        </div>\r\n        <div style={showWhenVisible}>\r\n          {props.children}\r\n          <button onClick={toggleVisibility}>cancel</button>\r\n        </div>\r\n      </div>\r\n    )\r\n})\r\n  \r\n    Togglable.displayName = 'Togglable'\r\n    export default Togglable","import React, {useState,useEffect} from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch, Route, Link\r\n  } from \"react-router-dom\"\r\nimport './Users.style.css'\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst Users = ({users}) =>{\r\n\r\n    return(\r\n        <div className='users-list'>\r\n             \r\n            <Table className='users-table' aria-label=\"simple table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell><strong>Username</strong></TableCell>\r\n                        <TableCell><strong>Blog(s) created</strong></TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                {users.map(user=>( \r\n                <TableBody>\r\n                    <TableRow key={user.id}>\r\n                        <TableCell><Link to={`/users/${user.id}`}>{user.username}</Link></TableCell>\r\n                        <TableCell>{user.blogs.length}</TableCell>\r\n                    </TableRow>\r\n                </TableBody>\r\n                ))}          \r\n            </Table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getUsers = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nexport default { getUsers }","import React, {useState,useEffect} from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch, Route, Link,useParams\r\n  } from \"react-router-dom\"\r\n\r\nconst User = ({users}) =>{\r\n\r\n    const id = useParams().id\r\n    const user = users.find(n => n.id == id) \r\n   \r\n    if (!user) {\r\n        return null\r\n      }\r\n\r\n    return(\r\n        <div>\r\n            <h2>\r\n                {user.username}\r\n            </h2>\r\n            <h3>Added blogs</h3>\r\n             {\r\n                 user.blogs.map(blog=>(\r\n                     <li>{blog.title}</li>\r\n                 ))\r\n             }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","import React,{useState} from 'react';\r\nimport './Blog.style.css';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch, Route, Link,useParams,useHistory\r\n} from \"react-router-dom\"\r\nimport {likeBlog} from '../reducers/blogReducer'\r\nimport {commentBlog} from '../reducers/blogReducer'\r\nimport {notification} from '../reducers/notificationReducer'\r\nimport {deleteBlog} from '../reducers/blogReducer'\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst Blog = (props) => {\r\n  const history = useHistory()\r\n\r\n  const [comment,setComment] = useState('');\r\n\r\n\r\n  const id = useParams().id;\r\n  const blog = props.blogs.find(n => n.id == id);\r\n\r\n  if(!blog){return null}\r\n\r\n  const remove = async (blog) =>{\r\n    if(window.confirm(`Do you want to delete blog post ${blog.title}?`)){\r\n      props.deleteBlog(blog).then(history.push('/'))\r\n    }\r\n  }\r\n\r\n  const onLike = (blog) => {\r\n    \r\n    const newLike = blog.likes + 1;\r\n\r\n    const updateBlog = {\r\n      likes: newLike,\r\n      author: blog.author,\r\n      title: blog.title,\r\n      url: blog.url,\r\n      comments: blog.comments\r\n    }\r\n\r\n    props.likeBlog(blog.id,updateBlog)\r\n\r\n    props.notification(`You have voted for '${blog.title}' `,5000)\r\n}\r\n\r\n  const commentAction = (event) =>{\r\n    event.preventDefault()\r\n    \r\n    const comments = blog.comments\r\n    const newComments = [...comments,comment]\r\n\r\n    console.log(newComments)\r\n\r\n    const updateBlog = {\r\n      likes: blog.likes,\r\n      author: blog.author,\r\n      title: blog.title,\r\n      url: blog.url,\r\n      comments: newComments\r\n    }\r\n\r\n    props.commentBlog(blog.id,updateBlog)\r\n\r\n    setComment('')\r\n\r\n  }\r\n\r\n  return(\r\n  <div className='blog-details'>\r\n    \r\n      <div >\r\n        <h2>{blog.title} - {blog.author} &nbsp; </h2>\r\n      </div>\r\n      <div className='blog-url'>\r\n        <a href={blog.url} target=\"_blank\" rel='noopener noreferrer'>{blog.url}</a> \r\n        <div>Likes: {blog.likes} <button type='button' onClick={()=>onLike(blog)} className='like'>like</button></div>\r\n        <div> Added by <strong>{blog.user.username}</strong>  &nbsp;\r\n        {props.user&&props.user.username==blog.user.username?(<button onClick={() => remove(blog)}>Remove</button>):(null)}\r\n        </div>\r\n      </div>\r\n \r\n      <h3>Comments</h3>\r\n      <div className='comment-section'>\r\n      {blog.comments?(  <div>{blog.comments.map(cmt =>(\r\n        <li className='comment'>\r\n          {cmt}\r\n        </li>\r\n      ))}</div>):(null)}\r\n\r\n      <form className='comment-input' onSubmit={commentAction}>\r\n        <input\r\n              id='comment'\r\n              value={comment}\r\n              onChange={({target})=>setComment(target.value)}\r\n            />\r\n        <button type=\"submit\">Comment</button>\r\n      </form>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps =(state)=>{\r\n  const sortBlogs = state.blogs.sort(function(a,b){\r\n    return b.likes - a.likes\r\n  })\r\n  return {blogs: sortBlogs,user:state.blogUser}\r\n}\r\n\r\nconst mapDispatchToProps ={\r\n  likeBlog,notification,deleteBlog,commentBlog\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Blog)","import React, { useState, useEffect,useRef } from 'react'\r\nimport BlogList from './components/BlogList'\r\nimport Notification from './components/Notification'\r\nimport SignIn from './components/SignIn'\r\nimport SignUp from './components/SignUp'\r\nimport BlogForm from './components/BlogForm';\r\nimport Togglable from './components/Togglable';\r\nimport {notification} from './reducers/notificationReducer'\r\nimport blogService from './services/blogs'\r\nimport {setUser} from './reducers/userReducer'\r\nimport {removeUser} from './reducers/userReducer'\r\nimport {initializeBlog} from './reducers/blogReducer'\r\nimport { connect } from 'react-redux'\r\nimport { useDispatch } from 'react-redux'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch, Route, Link\r\n} from \"react-router-dom\"\r\nimport './App.css'\r\nimport Users from './components/Users';\r\nimport getUsersService from './services/users';\r\nimport User from './components/User';\r\nimport Blog from './components/Blog'\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nfunction getModalStyle() {\r\n  const top = 50;\r\n  const left = 50;\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: \"absolute\",\r\n    width: 300,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nconst App = (props) => {\r\n  const link = {\r\n    padding: 5,\r\n    textDecoration:'none',\r\n    color: 'white',\r\n  }\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const blogFormRef = useRef()\r\n\r\n  const classes = useStyles();\r\n\r\n  const [users,setUsers] = useState([])\r\n  const [openSignUp, setOpenSignUp] = useState(false);\r\n  const [openSignIn, setOpenSignIn] = useState(false);\r\n  const [modalStyle] = useState(getModalStyle);\r\n\r\n  useEffect(() => {\r\n      // Create an scoped async function in the hook\r\n      async function getAllUsers() {\r\n       getUsersService.getUsers().then(users=>{setUsers(users)})\r\n      }\r\n      // Execute the created function directly\r\n      getAllUsers();\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeBlog())\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      props.setUser(user)\r\n      blogService.setToken(user.token)\r\n    }\r\n  }, [])\r\n\r\n  const logout = () =>{\r\n    props.removeUser();\r\n    window.localStorage.setItem(\r\n      'loggedBlogappUser', ''\r\n    ) \r\n  }\r\n\r\n\r\n\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n          <Modal className=\"modal\" open={openSignUp} onClose={() => setOpenSignUp(false)}>\r\n            <div style={modalStyle} className={classes.paper}>\r\n              <SignUp setOpenSignUp={setOpenSignUp}/>\r\n            </div>\r\n          </Modal>\r\n\r\n          <Modal className=\"modal\" open={openSignIn} onClose={() => setOpenSignIn(false)}>\r\n            <div style={modalStyle} className={classes.paper}>\r\n              <SignIn setOpenSignIn={setOpenSignIn}/>\r\n            </div>\r\n          </Modal>\r\n      <Router>\r\n          <div className='header'>\r\n            <div className='app_btn'>\r\n              <Button className='app_btn_header' variant=\"contained\" color=\"primary\"><Link style={link} to=\"/\">Blogs</Link></Button>\r\n              <Button className='app_btn_header' variant=\"contained\" color=\"primary\"><Link style={link} to=\"/users\">Users</Link></Button>\r\n            </div>\r\n           \r\n            <div>\r\n            {props.user === null || props.user =='' ?\r\n          (\r\n            <div className='app_btn_auth'>\r\n            <Button\r\n            className=\"app_login_btn\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setOpenSignUp(true)}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n\r\n          <Button\r\n          className=\"app_login_btn\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={() => setOpenSignIn(true)}\r\n          >\r\n          Sign In\r\n          </Button>\r\n          </div>\r\n          ) \r\n          :(\r\n          <div>\r\n            <div className='app_user'>\r\n              <h4>{props.user.username} logged-in &nbsp;&nbsp;</h4>\r\n              <Button variant=\"contained\" color=\"secondary\" type='button' onClick={logout} className='logout_button'>Log out</Button>\r\n            </div>\r\n\r\n\r\n            \r\n          </div>)\r\n          }\r\n          </div>\r\n        </div>\r\n      <Switch>\r\n        <div>\r\n          <h1 className='title_app'>Have you seen these Blogs?</h1>\r\n\r\n          <Notification/>\r\n          \r\n          {props.user?            \r\n          (<Route exact path=\"/\">\r\n              <Togglable className='addNewBlog' buttonLabel='Add new blog' ref={blogFormRef}>\r\n                <BlogForm></BlogForm>\r\n              </Togglable>\r\n            </Route>):null}\r\n          <Route exact path=\"/\">\r\n            <BlogList/>\r\n          </Route>\r\n\r\n          <Route exact path=\"/users\">\r\n            <Users users={users}/>\r\n          </Route>\r\n\r\n          <Route path=\"/users/:id\">\r\n            <User users={users} />\r\n          </Route>\r\n\r\n          <Route path='/blogs/:id'>\r\n            <Blog />\r\n          </Route>\r\n          </div>\r\n      </Switch>\r\n\r\n    </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps =(state)=>{\r\n  return {user:state.blogUser}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  notification, removeUser,setUser\r\n}\r\n\r\nconst ConnectApp = connect(mapStateToProps,mapDispatchToProps)(App)\r\nexport default ConnectApp","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport notiReducer from './reducers/notificationReducer.js'\r\nimport blogReducer from './reducers/blogReducer'\r\nimport userReducer from './reducers/userReducer.js'\r\n\r\nconst reducer = combineReducers({\r\n    noti: notiReducer,\r\n    blogs: blogReducer,\r\n    blogUser: userReducer\r\n  })\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    composeWithDevTools(\r\n        applyMiddleware(thunk)\r\n    )\r\n)\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport ConnectApp from './App'\r\nimport store from './store'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ConnectApp />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}